<style>
.md-stepper-horizontal {
	display:table;
	width:100%;
	margin:0 auto;
	background-color:#FFFFFF;
	{% comment %} box-shadow: 0 3px 8px -6px rgba(0,0,0,.50); {% endcomment %}
}
.md-stepper-horizontal .md-step {
	display:table-cell;
	position:relative;
	padding:24px;
}
.md-stepper-horizontal .md-step:hover,
.md-stepper-horizontal .md-step:active {
	background-color:rgba(0,0,0,0.04);

}
.md-stepper-horizontal .md-step:hover{
	cursor:pointer;
}

.md-stepper-horizontal .md-step:active {
	border-radius: 15% / 75%;
}
.md-stepper-horizontal .md-step:first-child:active {
	border-top-left-radius: 0;
	border-bottom-left-radius: 0;
}
.md-stepper-horizontal .md-step:last-child:active {
	border-top-right-radius: 0;
	border-bottom-right-radius: 0;
}
.md-stepper-horizontal .md-step:hover .md-step-circle {
	background-color:#757575;
}
.md-stepper-horizontal .md-step:first-child .md-step-bar-left,
.md-stepper-horizontal .md-step:last-child .md-step-bar-right {
	display:none;
}
.md-stepper-horizontal .md-step .md-step-circle {
	width:30px;
	height:30px;
	margin:0 auto;
	background-color:#999999;
	border-radius: 50%;
	text-align: center;
	line-height:30px;
	font-size: 16px;
	font-weight: 600;
	color:#FFFFFF;

}
.md-stepper-horizontal.green .md-step.active .md-step-circle {
	background-color:#00AE4D;
}
.md-stepper-horizontal.orange .md-step.active .md-step-circle {
	background-color:#ff5a5f;
}
.md-stepper-horizontal .md-step.active .md-step-circle {
	background-color: rgb(33,150,243);
}
.md-stepper-horizontal .md-step.done .md-step-circle:before {
	font-family:'FontAwesome';
	font-weight:100;
	content: "\f00c";
}
.md-stepper-horizontal .md-step.done .md-step-circle *,
.md-stepper-horizontal .md-step.editable .md-step-circle * {
	display:none;
}
.md-stepper-horizontal .md-step.editable .md-step-circle {
	-moz-transform: scaleX(-1);
	-o-transform: scaleX(-1);
	-webkit-transform: scaleX(-1);
	transform: scaleX(-1);
}
.md-stepper-horizontal .md-step.editable .md-step-circle:before {
	font-family:'FontAwesome';
	font-weight:100;
	content: "\f040";
}
.md-stepper-horizontal .md-step .md-step-title {
	margin-top:16px;
	font-size:16px;
	font-weight:600;
}
.md-stepper-horizontal .md-step .md-step-title,
.md-stepper-horizontal .md-step .md-step-optional {
	text-align: center;
	color:rgba(0,0,0,.26);
}
.md-stepper-horizontal .md-step.active .md-step-title {
	font-weight: 600;
	color:rgba(0,0,0,.87);
}
.md-stepper-horizontal .md-step.active.done .md-step-title,
.md-stepper-horizontal .md-step.active.editable .md-step-title {
	font-weight:600;
}
.md-stepper-horizontal .md-step .md-step-optional {
	font-size:12px;
}
.md-stepper-horizontal .md-step.active .md-step-optional {
	color:rgba(0,0,0,.54);
}
.md-stepper-horizontal .md-step .md-step-bar-left,
.md-stepper-horizontal .md-step .md-step-bar-right {
	position:absolute;
	top:37px;
	height:1px;
	border-top:2px solid #ff5a5f;
}
.md-stepper-horizontal .md-step .md-step-bar-right {
	right:0;
	left:46%;
	margin-left:20px;
}
.md-stepper-horizontal .md-step .md-step-bar-left {
	left:0;
	right:47%;
	margin-right:20px;
}



.step {
  
  padding: 10px;
	height:85px;
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  
  background-color: cream;

}

.v-stepper {
  position: relative;
/*   visibility: visible; */
}


/* regular step */
.step .circle {
  background-color: white;
  border: 3px solid gray;
  border-radius: 100%;
  width: 20px;    /* +6 for border */
  height: 20px;
  display: inline-block;
}

.step .line {
    top: 20px;
    left: 8px;
/*   height: 120px; */
  height: 100%;
    
    position: absolute;
    border-left: 3px solid gray;
}

.step.completed .circle {
  visibility: visible;
  background-color: #ff5a5f;
  border-color: #ff5a5f;
}

.step.completed .line {
  border-left: 3px solid #ff5a5f;
}

.step.active .circle {
visibility: visible;
  border-color: #ff5a5f;
}

.step.empty .circle {
    visibility: hidden;
}

.step.empty .line {
/*     visibility: hidden; */
/*   height: 150%; */
  top: 0;
  height: 150%;
}


.step:last-child .line {
  border-left: 3px solid white;
  z-index: -1; /* behind the circle to completely hide */
}

.content {
  margin-left: 20px;
  display: inline-block;
}
.step-content{
	width:100%;
}
.reviewBtn{
	float:right;
}
.upload-container {
  min-height:350px;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
}

.md-stepper-horizontal .md-step:first-child{

}
</style>
{% now "d b" as todays_date %}
<div class="md-stepper-horizontal orange">
    <div class="md-step active day" data-currentday="prev-{{days.0}}">
        <div class="md-step-circle">
			<span>
				<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 490.8 490.8" style="enable-background:new 0 0 490.8 490.8;width: 16px;
    height: 16px;
    fill: #fff;
    left: -2px;
	transform: scaleX(-1);
    position: relative;
    margin-top: -5px;" xml:space="preserve">
<path style="fill:#F44336;" d="M135.685,3.128c-4.237-4.093-10.99-3.975-15.083,0.262c-3.992,4.134-3.992,10.687,0,14.82  l227.115,227.136L120.581,472.461c-4.237,4.093-4.354,10.845-0.262,15.083c4.093,4.237,10.845,4.354,15.083,0.262  c0.089-0.086,0.176-0.173,0.262-0.262l234.667-234.667c4.164-4.165,4.164-10.917,0-15.083L135.685,3.128z"/>
<path d="M128.133,490.68c-5.891,0.011-10.675-4.757-10.686-10.648c-0.005-2.84,1.123-5.565,3.134-7.571l227.136-227.115  L120.581,18.232c-4.171-4.171-4.171-10.933,0-15.104c4.171-4.171,10.933-4.171,15.104,0l234.667,234.667  c4.164,4.165,4.164,10.917,0,15.083L135.685,487.544C133.685,489.551,130.967,490.68,128.133,490.68z"/>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
</svg>
			</span>
		</div>
    </div>
	{% for day in days %}
        <div class="md-step{% if active|date:"d b" != day|date:"d b" %} active{% endif %} day" data-currentday="middle-{{days.3}}-{{day}}">
        <div class="md-step-circle"><span style="visibility:hidden;">0</span></div>
		{% if todays_date == day|date:"d b" %}
		<div class="md-step-title">Today</div>
		{% else %}
		<div class="md-step-title">{{day|date:"d b"}}</div>
		{% endif %}
		{% if not forloop.first %}
		<div class="md-step-bar-left"></div>
		{% endif %}
		{% if not forloop.last %}
		<div class="md-step-bar-right"></div>
		{% endif %}
        </div>
	{% endfor %}

	<div class="md-step {% if not shownextday %} active day{% endif %}" data-currentday="next-{{days.3}}" {% if shownextday %} disabled{% endif %}>
        <div class="md-step-circle">
			<span>
					<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" viewBox="0 0 490.8 490.8" style="
    enable-background:new 0 0 490.8 490.8;
    width: 16px;
    height: 16px;
    fill: #fff;
    left: 1px;
    position: relative;
    margin-top: -5px;
    " xml:space="preserve">
<path style="fill: transparent;" d="M135.685,3.128c-4.237-4.093-10.99-3.975-15.083,0.262c-3.992,4.134-3.992,10.687,0,14.82  l227.115,227.136L120.581,472.461c-4.237,4.093-4.354,10.845-0.262,15.083c4.093,4.237,10.845,4.354,15.083,0.262  c0.089-0.086,0.176-0.173,0.262-0.262l234.667-234.667c4.164-4.165,4.164-10.917,0-15.083L135.685,3.128z"></path>
<path d="M128.133,490.68c-5.891,0.011-10.675-4.757-10.686-10.648c-0.005-2.84,1.123-5.565,3.134-7.571l227.136-227.115  L120.581,18.232c-4.171-4.171-4.171-10.933,0-15.104c4.171-4.171,10.933-4.171,15.104,0l234.667,234.667  c4.164,4.165,4.164,10.917,0,15.083L135.685,487.544C133.685,489.551,130.967,490.68,128.133,490.68z"></path>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
<g>
</g>
</svg>
			</span>
		</div>
    </div>
</div>
<div class="container upload-container">
	{% if blood_samples_imported != 0 or active|date:"d b" == todays_date %}
	<div>
	<!-- completed -->
		<div class="step {% if active|date:"d b" != todays_date %}completed{% elif blood_samples_imported != 0 %}completed {% else %} active {% endif %}">
		<div class="v-stepper">
			<div class="circle"></div>
			<div class="line"></div>
		</div>

		<div class="step-content">
			<button type="button" style="margin: 0px 43px;" class="btn custom-btn" id="bloodSample" {% if active|date:"d b" != todays_date %}disabled{% endif %}>Blood Sample</button>
			<span>{{blood_samples_imported}} number of new blood samples are uploaded</span>
			<button type="button" style="margin: 0px 43px;" class="btn custom-btn reviewBtn" id="" {% if blood_samples_imported == 0 %}disabled{% endif %}>Review</button>
		</div>
	</div>


	<div class="step {% if active|date:"d b" != todays_date %}completed {% elif blood_samples_imported != 0 and manifest_imported != 0 %} completed {% elif blood_samples_imported == 0 and manifest_imported == 0 %} {% else %} active {% endif %}">
		<div class="v-stepper">
		<div class="circle"></div>
		<div class="line"></div>
		</div>

		<div class="step-content">
		<button type="button" style="margin: 0px 43px;" class="btn custom-btn" id="manifest" {% if blood_samples_imported == 0 or active|date:"d b" != todays_date %}disabled{% endif %}>Manifest</button>
		<span>{{manifest_imported}} number of new manifest are uploaded</span>
		<button type="button" style="margin: 0px 43px;" class="btn custom-btn reviewBtn" id="" {% if blood_samples_imported == 0 %}disabled{% endif %}>Review</button>
		</div>
	</div>


	<div class="step {% if active|date:"d b" != todays_date %}completed {% elif manifest_imported != 0 %}active{% endif %}">
		<div class="v-stepper">
			<div class="circle"></div>
			<div class="line"></div>
		</div>

		<div class="step-content">
			<button type="button" id="receipt" style="margin: 0px 43px;" class="btn custom-btn" {% if manifest_imported == 0 or active|date:"d b" != todays_date %}disabled{% endif %}>Receipt</button>
			<span>0 number of blood samples are received</span>
			<button type="button" style="margin: 0px 43px;" class="btn custom-btn reviewBtn" disabled>Review</button>
		</div>
	</div>
	<div class="step {% if active|date:"d b" != todays_date %}completed{% endif %}">
		<div class="v-stepper">
			<div class="circle"></div>
			<div class="line"></div>
		</div>

		<div class="step-content">
			<button type="button" style="margin: 0px 43px;" class="btn custom-btn" disabled>Processed</button>
			<span>0 number of blood samples are processed</span>
			<button type="button" style="margin: 0px 43px;" class="btn custom-btn reviewBtn" disabled>Review</button>
		</div>
	</div>
	
	</div>
</div>
{% endif %}
<script  type="text/javascript">
$(document).ready(function(){
    $('#bloodSample').click(function() {
		$('.modal-loader').show();
		$("#blood-sample-modal").modal();
        $.ajax({
            url: '/upload_blood_sample',
            type: 'get',
            success: function(data){
                $('.modal-body').html(data);
				$('.modal-loader').hide();
            }
        });
    });
    $('#manifest').click(function() {
		$('.modal-loader').show();
		$("#blood-sample-modal").modal();
        $.ajax({
            url: '/upload_manifest',
            type: 'get',
            success: function(data){
                $('.modal-body').html(data);
				$('.modal-loader').hide();
            }
        });
    });
	$('#receipt').click(function() {
		$('.modal-loader').show();
		$("#blood-sample-modal").modal();
        $.ajax({
            url: '/upload_receipt',
            type: 'get',
            success: function(data){
                $('.modal-body').html(data);
				$('.modal-loader').hide();
            }
        });
    });

});
</script>